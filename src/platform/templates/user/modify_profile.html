$def with(host,usrtpl,member,msg)
$:usrtpl.top('修改资料')

<script type="text/javascript" src="http://img.$host/scripts/calender.js"></script>
<script type="text/javascript" src="http://img.$host/scripts/datepicker/WdatePicker.js"></script>
<link rel="StyleSheet" type="text/css" href="http://img.$host/scripts/datepicker/skin/WdatePicker.css"/>
<link rel="stylesheet" type="text/css" href="http://img.$host/css/validator.css"/>
<script type="text/javascript" src="http://img.$host/scripts/validator.js"></script>
	
<div id="main" class="mainwrap">
    <div class="side">
		$:usrtpl.menu('修改资料') <br />
		
   </div>
<div class="main" style="height:500px">
	$if msg!='':
		<div class="msg">$msg</div>
	
	<div id="regpanel">
	<form method="post">
	
		<p>
			<label>姓名：</label>
			<input type="text" id="realname" name="realname" value="$member['realname']"  err="姓名{0:不能为空,1:必须为2-4位中文}"/><span class="tip"></span>
		</p>
		<p>
			<label>性别</label>
			<input type="radio" name="sex" value="male" checked="checked"/>男&nbsp;
			<input type="radio" name="sex" value="female"$:(' checked="checked"' if member['sex']=='female' else '') />女
		</p>
		<p>
			<label>手机号码</label>
			<input type="text" id="phone" name="phone" value="$member['phone']"  err="手机号码{0:不正确,1:已被使用,2:不能为空}"/><span class="tip"></span>
		</p>
		
		<p>
			<label>所在地址</label>
			<input type="text" id="address" name="address" value="$member['address']" err="地址{0:不能为空,1:需详细到门牌号}" /><span class="tip"></span>
		</p>
		<p>
			<label>出生日期</label><!-- 
			<input type="hidden" id="birthday1" name="birthday" value="$member['birthday']"/> -->
			<input type="text" id="birthday" name="birthday" value="$member['birthday']"
			  onclick="WdatePicker({skin:'whyGreen',dateFmt:'yyyy-MM-dd'})"/><span class="tip"></span>
		</p>
		
		<p>
			<label>QQ号码</label>
			<input type="text" id="qq" name="qq" value="$member['qq']" err="格式错误应{0:为5-11位数字}"/><span class="tip"></span>
		</p>
		<p>
			<label>电子邮箱</label>
			<input type="text" id="email" name="email" value="$member['email']" err="邮箱{0:格式不正确,1:必须长度小于50}" /><span class="tip">邮箱可用于找回密码</span>
		</p>
		
		
		<p><label>&nbsp;</label>
			<input type="button" value="修改" onclick="chk();return false;"/>
		</p>
	</form>
	</div>
	
</div>

</div>

<style type="text/css">
.red{color:red;}
.m20{margin-top:30px;border-top:dashed 1px #79959a;padding-top:30px}
.local{color:green;}
.ip{color:#666;}
.profile{position:absolute;left:200px;top:30px;}
.profile p{margin:0;padding:0;line-height:25px;}
.profile label{width:100px;float:left;display:block;}
.msg{color:red;}
p label{width:80px;display:block;float:left;padding-left:10px;}
.main{padding-top:10px;}
</style>


$:usrtpl.footer()


<script type="text/javascript">
	function $$(id){return document.getElementById(id);}
	var uid=null,
		pwd=null,
		repwd=null,
		email=$$('email'),
		qq=$$('qq'),
		phone=$$('phone'),
		address=$$('address'),
		tguser=null,
		nick=null,
		realname=$$('realname'),
		cardnumber=null,
		birthday=$$('birthday');
		
	function chk(){
		email.onblur();
		qq.onblur();
		phone.onblur();
		address.onblur();
		realname.onblur();
		birthday.onblur();
		
		if(!valid.check(document.getElementById('regpanel'))){
			alert('请填写完整注册资料！');return false;
		}else{
			document.forms[0].submit();
		}
	}

	function error(msg){
		document.getElementsByClassName('msg')[0].innerHTML=msg;
	}
	/*
	setInterval(function(){
		var b=$$('birthday'),b1=$$('birthday1');
		if(b.value!='')b1.value=b.value;
	},10);*/
	</script>
	
	<script type="text/javascript" src="http://img.$host/scripts/usr/register.js"></script>
	
	
